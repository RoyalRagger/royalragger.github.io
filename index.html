<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Marie Geschenk</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" user-scalable=no>
  <link rel="stylesheet" type="text/css" href="stylesheet.css">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900&display=swap"
        rel="stylesheet" type="text/css">
</head>
<body>

<div id="card" class="visible">

  <div id="card_coupon"></div>
  <p>
    G√ºltig auf Lebenszeit. <br>
    <span>F√ºr Marie Hansen</span>
  </p>
  <button id="card_button" onclick="showFlyout();">Gutschein einl√∂sen</button>

</div>

<div id="flyout" class="">
  <h1>Marie, wann m√∂chtest du nach Hamburg? ‚öìÔ∏è ‚ù§Ô∏è</h1>
  <label for="flyout_date">Startdatum</label>
  <input id="flyout_date" type="date">
  <label for="flyout_musical">Musical</label>
  <input id="flyout_musical" placeholder="Welches Musical?">
  <div id="flyout_buttonbar">
    <button onclick="showFinal()">Fertig</button>
    <button onclick="hideFlyout();" class="secondary">Abbrechen</button>
  </div>
</div>

<div id="final" class="hidden">
  Fertig! Ich freu mich üòá
</div>


<script>
  let flyout = document.getElementById("flyout");
  let card = document.getElementById("card");
  let flyout_date = document.getElementById("flyout_date");
  let flyout_musical = document.getElementById("flyout_musical");
  let final = document.getElementById("final");

  let eingabeDatum = null;
  let eingabeMusical = null;

  window.onload = function () {

  };

  function showCard() {
    card.classList.add("visible");
  }

  function hideCard() {
    if (card.classList.contains("visible")) {
      card.classList.remove("visible");
    }
  }

  function showFlyout() {
    hideCard();
    flyout.classList.add("visible");
  }

  function hideFlyout() {
    showCard();
    if (flyout.classList.contains("visible")) {
      flyout.classList.remove("visible");
    }
  }

  function showFinalLabel() {
    if(final.classList.contains("hidden")) {
      final.classList.remove("hidden");
    } else {
      final.classList.add("hidden");
    }

  }

  function showFinal() {
    if(!flyout_date.value || !flyout_musical.value) {
      alert("Bitte gib etwas ein, Schatz :)");
      return;
    }

    eingabeDatum = flyout_date.value;
    eingabeMusical = flyout_musical.value;
    hideFlyout();
    hideCard();
    showFinalLabel();
    document.body.style.background = 'hsl(351, 100%, 57%)';
  }


</script>

</body>
</html>